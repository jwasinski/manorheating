!function(t,e){function o(t){return""===a?t:(t=t.charAt(0).toUpperCase()+t.substr(1),a+t)}var n=Math,i=e.createElement("div").style,a=function(){for(var t,e="t,webkitT,MozT,msT,OT".split(","),o=0,n=e.length;n>o;o++)if(t=e[o]+"ransform",t in i)return e[o].substr(0,e[o].length-1);return!1}(),r=a?"-"+a.toLowerCase()+"-":"",s=o("transform"),l=o("transitionProperty"),c=o("transitionDuration"),u=o("transformOrigin"),d=o("transitionTimingFunction"),h=o("transitionDelay"),p=/android/gi.test(navigator.appVersion),f=/iphone|ipad/gi.test(navigator.appVersion),m=/hp-tablet/gi.test(navigator.appVersion),g=o("perspective")in i,v="ontouchstart"in t&&!m,b=a!==!1,y=o("transition")in i,F="onorientationchange"in t?"orientationchange":"resize",w=v?"touchstart":"mousedown",x=v?"touchmove":"mousemove",$=v?"touchend":"mouseup",_=v?"touchcancel":"mouseup",k=function(){if(a===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[a]}(),C=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),D=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),S=g?" translateZ(0)":"",A=function(o,n){var i,a=this;a.wrapper="object"==typeof o?o:e.getElementById(o),a.wrapper.style.overflow="hidden",a.scroller=a.wrapper.children[0],a.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:p,hideScrollbar:f,fadeScrollbar:f&&g,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(i in n)a.options[i]=n[i];a.x=a.options.x,a.y=a.options.y,a.options.useTransform=b&&a.options.useTransform,a.options.hScrollbar=a.options.hScroll&&a.options.hScrollbar,a.options.vScrollbar=a.options.vScroll&&a.options.vScrollbar,a.options.zoom=a.options.useTransform&&a.options.zoom,a.options.useTransition=y&&a.options.useTransition,a.options.zoom&&p&&(S=""),a.scroller.style[l]=a.options.useTransform?r+"transform":"top left",a.scroller.style[c]="0",a.scroller.style[u]="0 0",a.options.useTransition&&(a.scroller.style[d]="cubic-bezier(0.33,0.66,0.66,1)"),a.options.useTransform?a.scroller.style[s]="translate("+a.x+"px,"+a.y+"px)"+S:a.scroller.style.cssText+=";position:absolute;top:"+a.y+"px;left:"+a.x+"px",a.options.useTransition&&(a.options.fixedScrollbar=!0),a.refresh(),a._bind(F,t),a._bind(w),v||"none"!=a.options.wheelAction&&(a._bind("DOMMouseScroll"),a._bind("mousewheel")),a.options.checkDOMChanges&&(a.checkDOMTime=setInterval(function(){a._checkDOMChanges()},500))};A.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){var e=this;switch(t.type){case w:if(!v&&0!==t.button)return;e._start(t);break;case x:e._move(t);break;case $:case _:e._end(t);break;case F:e._resize();break;case"DOMMouseScroll":case"mousewheel":e._wheel(t);break;case k:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var o,i=this;return i[t+"Scrollbar"]?(i[t+"ScrollbarWrapper"]||(o=e.createElement("div"),i.options.scrollbarClass?o.className=i.options.scrollbarClass+t.toUpperCase():o.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(i.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(i.hScrollbar?"7":"2")+"px;top:2px;right:1px"),o.style.cssText+=";pointer-events:none;"+r+"transition-property:opacity;"+r+"transition-duration:"+(i.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(i.options.hideScrollbar?"0":"1"),i.wrapper.appendChild(o),i[t+"ScrollbarWrapper"]=o,o=e.createElement("div"),i.options.scrollbarClass||(o.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+r+"background-clip:padding-box;"+r+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+r+"border-radius:3px;border-radius:3px"),o.style.cssText+=";pointer-events:none;"+r+"transition-property:"+r+"transform;"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+r+"transition-duration:0;"+r+"transform: translate(0,0)"+S,i.options.useTransition&&(o.style.cssText+=";"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),i[t+"ScrollbarWrapper"].appendChild(o),i[t+"ScrollbarIndicator"]=o),"h"==t?(i.hScrollbarSize=i.hScrollbarWrapper.clientWidth,i.hScrollbarIndicatorSize=n.max(n.round(i.hScrollbarSize*i.hScrollbarSize/i.scrollerW),8),i.hScrollbarIndicator.style.width=i.hScrollbarIndicatorSize+"px",i.hScrollbarMaxScroll=i.hScrollbarSize-i.hScrollbarIndicatorSize,i.hScrollbarProp=i.hScrollbarMaxScroll/i.maxScrollX):(i.vScrollbarSize=i.vScrollbarWrapper.clientHeight,i.vScrollbarIndicatorSize=n.max(n.round(i.vScrollbarSize*i.vScrollbarSize/i.scrollerH),8),i.vScrollbarIndicator.style.height=i.vScrollbarIndicatorSize+"px",i.vScrollbarMaxScroll=i.vScrollbarSize-i.vScrollbarIndicatorSize,i.vScrollbarProp=i.vScrollbarMaxScroll/i.maxScrollY),i._scrollbarPos(t,!0),void 0):(i[t+"ScrollbarWrapper"]&&(b&&(i[t+"ScrollbarIndicator"].style[s]=""),i[t+"ScrollbarWrapper"].parentNode.removeChild(i[t+"ScrollbarWrapper"]),i[t+"ScrollbarWrapper"]=null,i[t+"ScrollbarIndicator"]=null),void 0)},_resize:function(){var t=this;setTimeout(function(){t.refresh()},p?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[s]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+S:(t=n.round(t),e=n.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var o,i=this,a="h"==t?i.x:i.y;i[t+"Scrollbar"]&&(a=i[t+"ScrollbarProp"]*a,0>a?(i.options.fixedScrollbar||(o=i[t+"ScrollbarIndicatorSize"]+n.round(3*a),8>o&&(o=8),i[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=o+"px"),a=0):a>i[t+"ScrollbarMaxScroll"]&&(i.options.fixedScrollbar?a=i[t+"ScrollbarMaxScroll"]:(o=i[t+"ScrollbarIndicatorSize"]-n.round(3*(a-i[t+"ScrollbarMaxScroll"])),8>o&&(o=8),i[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=o+"px",a=i[t+"ScrollbarMaxScroll"]+(i[t+"ScrollbarIndicatorSize"]-o))),i[t+"ScrollbarWrapper"].style[h]="0",i[t+"ScrollbarWrapper"].style.opacity=e&&i.options.hideScrollbar?"0":"1",i[t+"ScrollbarIndicator"].style[s]="translate("+("h"==t?a+"px,0)":"0,"+a+"px)")+S)},_start:function(e){var o,i,a,r,l,c=this,u=v?e.touches[0]:e;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,e),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&v&&e.touches.length>1&&(r=n.abs(e.touches[0].pageX-e.touches[1].pageX),l=n.abs(e.touches[0].pageY-e.touches[1].pageY),c.touchesDistStart=n.sqrt(r*r+l*l),c.originX=n.abs(e.touches[0].pageX+e.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=n.abs(e.touches[0].pageY+e.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,e)),c.options.momentum&&(c.options.useTransform?(o=getComputedStyle(c.scroller,null)[s].replace(/[^0-9\-.,]/g,"").split(","),i=+o[4],a=+o[5]):(i=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(i!=c.x||a!=c.y)&&(c.options.useTransition?c._unbind(k):D(c.aniTime),c.steps=[],c._pos(i,a),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=u.pageX,c.pointY=u.pageY,c.startTime=e.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,e),c._bind(x,t),c._bind($,t),c._bind(_,t))},_move:function(t){var e,o,i,a=this,r=v?t.touches[0]:t,l=r.pageX-a.pointX,c=r.pageY-a.pointY,u=a.x+l,d=a.y+c,h=t.timeStamp||Date.now();return a.options.onBeforeScrollMove&&a.options.onBeforeScrollMove.call(a,t),a.options.zoom&&v&&t.touches.length>1?(e=n.abs(t.touches[0].pageX-t.touches[1].pageX),o=n.abs(t.touches[0].pageY-t.touches[1].pageY),a.touchesDist=n.sqrt(e*e+o*o),a.zoomed=!0,i=1/a.touchesDistStart*a.touchesDist*this.scale,i<a.options.zoomMin?i=.5*a.options.zoomMin*Math.pow(2,i/a.options.zoomMin):i>a.options.zoomMax&&(i=2*a.options.zoomMax*Math.pow(.5,a.options.zoomMax/i)),a.lastScale=i/this.scale,u=this.originX-this.originX*a.lastScale+this.x,d=this.originY-this.originY*a.lastScale+this.y,this.scroller.style[s]="translate("+u+"px,"+d+"px) scale("+i+")"+S,a.options.onZoom&&a.options.onZoom.call(a,t),void 0):(a.pointX=r.pageX,a.pointY=r.pageY,(u>0||u<a.maxScrollX)&&(u=a.options.bounce?a.x+l/2:u>=0||a.maxScrollX>=0?0:a.maxScrollX),(d>a.minScrollY||d<a.maxScrollY)&&(d=a.options.bounce?a.y+c/2:d>=a.minScrollY||a.maxScrollY>=0?a.minScrollY:a.maxScrollY),a.distX+=l,a.distY+=c,a.absDistX=n.abs(a.distX),a.absDistY=n.abs(a.distY),a.absDistX<6&&a.absDistY<6||(a.options.lockDirection&&(a.absDistX>a.absDistY+5?(d=a.y,c=0):a.absDistY>a.absDistX+5&&(u=a.x,l=0)),a.moved=!0,a._pos(u,d),a.dirX=l>0?-1:0>l?1:0,a.dirY=c>0?-1:0>c?1:0,h-a.startTime>300&&(a.startTime=h,a.startX=a.x,a.startY=a.y),a.options.onScrollMove&&a.options.onScrollMove.call(a,t)),void 0)},_end:function(o){if(!v||0===o.touches.length){var i,a,r,l,u,d,h,p=this,f=v?o.changedTouches[0]:o,m={dist:0,time:0},g={dist:0,time:0},b=(o.timeStamp||Date.now())-p.startTime,y=p.x,F=p.y;if(p._unbind(x,t),p._unbind($,t),p._unbind(_,t),p.options.onBeforeScrollEnd&&p.options.onBeforeScrollEnd.call(p,o),p.zoomed)return h=p.scale*p.lastScale,h=Math.max(p.options.zoomMin,h),h=Math.min(p.options.zoomMax,h),p.lastScale=h/p.scale,p.scale=h,p.x=p.originX-p.originX*p.lastScale+p.x,p.y=p.originY-p.originY*p.lastScale+p.y,p.scroller.style[c]="200ms",p.scroller.style[s]="translate("+p.x+"px,"+p.y+"px) scale("+p.scale+")"+S,p.zoomed=!1,p.refresh(),p.options.onZoomEnd&&p.options.onZoomEnd.call(p,o),void 0;if(!p.moved)return v&&(p.doubleTapTimer&&p.options.zoom?(clearTimeout(p.doubleTapTimer),p.doubleTapTimer=null,p.options.onZoomStart&&p.options.onZoomStart.call(p,o),p.zoom(p.pointX,p.pointY,1==p.scale?p.options.doubleTapZoom:1),p.options.onZoomEnd&&setTimeout(function(){p.options.onZoomEnd.call(p,o)},200)):this.options.handleClick&&(p.doubleTapTimer=setTimeout(function(){for(p.doubleTapTimer=null,i=f.target;1!=i.nodeType;)i=i.parentNode;"SELECT"!=i.tagName&&"INPUT"!=i.tagName&&"TEXTAREA"!=i.tagName&&(a=e.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,o.view,1,f.screenX,f.screenY,f.clientX,f.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,null),a._fake=!0,i.dispatchEvent(a))},p.options.zoom?250:0))),p._resetPos(400),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o),void 0;if(300>b&&p.options.momentum&&(m=y?p._momentum(y-p.startX,b,-p.x,p.scrollerW-p.wrapperW+p.x,p.options.bounce?p.wrapperW:0):m,g=F?p._momentum(F-p.startY,b,-p.y,p.maxScrollY<0?p.scrollerH-p.wrapperH+p.y-p.minScrollY:0,p.options.bounce?p.wrapperH:0):g,y=p.x+m.dist,F=p.y+g.dist,(p.x>0&&y>0||p.x<p.maxScrollX&&y<p.maxScrollX)&&(m={dist:0,time:0}),(p.y>p.minScrollY&&F>p.minScrollY||p.y<p.maxScrollY&&F<p.maxScrollY)&&(g={dist:0,time:0})),m.dist||g.dist)return u=n.max(n.max(m.time,g.time),10),p.options.snap&&(r=y-p.absStartX,l=F-p.absStartY,n.abs(r)<p.options.snapThreshold&&n.abs(l)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(d=p._snap(y,F),y=d.x,F=d.y,u=n.max(d.time,u))),p.scrollTo(n.round(y),n.round(F),u),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o),void 0;if(p.options.snap)return r=y-p.absStartX,l=F-p.absStartY,n.abs(r)<p.options.snapThreshold&&n.abs(l)<p.options.snapThreshold?p.scrollTo(p.absStartX,p.absStartY,200):(d=p._snap(p.x,p.y),(d.x!=p.x||d.y!=p.y)&&p.scrollTo(d.x,d.y,d.time)),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o),void 0;p._resetPos(200),p.options.onTouchEnd&&p.options.onTouchEnd.call(p,o)}},_resetPos:function(t){var e=this,o=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,n=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return o==e.x&&n==e.y?(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e)),e.hScrollbar&&e.options.hideScrollbar&&("webkit"==a&&(e.hScrollbarWrapper.style[h]="300ms"),e.hScrollbarWrapper.style.opacity="0"),e.vScrollbar&&e.options.hideScrollbar&&("webkit"==a&&(e.vScrollbarWrapper.style[h]="300ms"),e.vScrollbarWrapper.style.opacity="0"),void 0):(e.scrollTo(o,n,t||0),void 0)},_wheel:function(t){var e,o,n,i,a,r=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,o=t.wheelDeltaY/12;else if("wheelDelta"in t)e=o=t.wheelDelta/12;else{if(!("detail"in t))return;e=o=3*-t.detail}return"zoom"==r.options.wheelAction?(a=r.scale*Math.pow(2,1/3*(o?o/Math.abs(o):0)),a<r.options.zoomMin&&(a=r.options.zoomMin),a>r.options.zoomMax&&(a=r.options.zoomMax),a!=r.scale&&(!r.wheelZoomCount&&r.options.onZoomStart&&r.options.onZoomStart.call(r,t),r.wheelZoomCount++,r.zoom(t.pageX,t.pageY,a,400),setTimeout(function(){r.wheelZoomCount--,!r.wheelZoomCount&&r.options.onZoomEnd&&r.options.onZoomEnd.call(r,t)},400)),void 0):(n=r.x+e,i=r.y+o,n>0?n=0:n<r.maxScrollX&&(n=r.maxScrollX),i>r.minScrollY?i=r.minScrollY:i<r.maxScrollY&&(i=r.maxScrollY),r.maxScrollY<0&&r.scrollTo(n,i,0),void 0)},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(k),e._startAni())},_startAni:function(){var t,e,o,i=this,a=i.x,r=i.y,s=Date.now();if(!i.animating){if(!i.steps.length)return i._resetPos(400),void 0;if(t=i.steps.shift(),t.x==a&&t.y==r&&(t.time=0),i.animating=!0,i.moved=!0,i.options.useTransition)return i._transitionTime(t.time),i._pos(t.x,t.y),i.animating=!1,t.time?i._bind(k):i._resetPos(0),void 0;o=function(){var l,c,u=Date.now();return u>=s+t.time?(i._pos(t.x,t.y),i.animating=!1,i.options.onAnimationEnd&&i.options.onAnimationEnd.call(i),i._startAni(),void 0):(u=(u-s)/t.time-1,e=n.sqrt(1-u*u),l=(t.x-a)*e+a,c=(t.y-r)*e+r,i._pos(l,c),i.animating&&(i.aniTime=C(o)),void 0)},o()}},_transitionTime:function(t){t+="ms",this.scroller.style[c]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=t)},_momentum:function(t,e,o,i,a){var r=6e-4,s=n.abs(t)/e,l=s*s/(2*r),c=0,u=0;return t>0&&l>o?(u=a/(6/(l/s*r)),o+=u,s=s*o/l,l=o):0>t&&l>i&&(u=a/(6/(l/s*r)),i+=u,s=s*i/l,l=i),l*=0>t?-1:1,c=s/r,{dist:l,time:n.round(c)}},_offset:function(t){for(var e=-t.offsetLeft,o=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,o-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,o*=this.scale),{left:e,top:o}},_snap:function(t,e){var o,i,a,r,s,l,c=this;for(a=c.pagesX.length-1,o=0,i=c.pagesX.length;i>o;o++)if(t>=c.pagesX[o]){a=o;break}for(a==c.currPageX&&a>0&&c.dirX<0&&a--,t=c.pagesX[a],s=n.abs(t-c.pagesX[c.currPageX]),s=s?500*(n.abs(c.x-t)/s):0,c.currPageX=a,a=c.pagesY.length-1,o=0;a>o;o++)if(e>=c.pagesY[o]){a=o;break}return a==c.currPageY&&a>0&&c.dirY<0&&a--,e=c.pagesY[a],l=n.abs(e-c.pagesY[c.currPageY]),l=l?500*(n.abs(c.y-e)/l):0,c.currPageY=a,r=n.round(n.max(s,l))||200,{x:t,y:e,time:r}},_bind:function(t,e,o){(e||this.scroller).addEventListener(t,this,!!o)},_unbind:function(t,e,o){(e||this.scroller).removeEventListener(t,this,!!o)},destroy:function(){var e=this;e.scroller.style[s]="",e.hScrollbar=!1,e.vScrollbar=!1,e._scrollbar("h"),e._scrollbar("v"),e._unbind(F,t),e._unbind(w),e._unbind(x,t),e._unbind($,t),e._unbind(_,t),e.options.hasTouch||(e._unbind("DOMMouseScroll"),e._unbind("mousewheel")),e.options.useTransition&&e._unbind(k),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e)},refresh:function(){var t,e,o,i,a=this,r=0,s=0;if(a.scale<a.options.zoomMin&&(a.scale=a.options.zoomMin),a.wrapperW=a.wrapper.clientWidth||1,a.wrapperH=a.wrapper.clientHeight||1,a.minScrollY=-a.options.topOffset||0,a.scrollerW=n.round(a.scroller.offsetWidth*a.scale),a.scrollerH=n.round((a.scroller.offsetHeight+a.minScrollY)*a.scale),a.maxScrollX=a.wrapperW-a.scrollerW,a.maxScrollY=a.wrapperH-a.scrollerH+a.minScrollY,a.dirX=0,a.dirY=0,a.options.onRefresh&&a.options.onRefresh.call(a),a.hScroll=a.options.hScroll&&a.maxScrollX<0,a.vScroll=a.options.vScroll&&(!a.options.bounceLock&&!a.hScroll||a.scrollerH>a.wrapperH),a.hScrollbar=a.hScroll&&a.options.hScrollbar,a.vScrollbar=a.vScroll&&a.options.vScrollbar&&a.scrollerH>a.wrapperH,t=a._offset(a.wrapper),a.wrapperOffsetLeft=-t.left,a.wrapperOffsetTop=-t.top,"string"==typeof a.options.snap)for(a.pagesX=[],a.pagesY=[],i=a.scroller.querySelectorAll(a.options.snap),e=0,o=i.length;o>e;e++)r=a._offset(i[e]),r.left+=a.wrapperOffsetLeft,r.top+=a.wrapperOffsetTop,a.pagesX[e]=r.left<a.maxScrollX?a.maxScrollX:r.left*a.scale,a.pagesY[e]=r.top<a.maxScrollY?a.maxScrollY:r.top*a.scale;else if(a.options.snap){for(a.pagesX=[];r>=a.maxScrollX;)a.pagesX[s]=r,r-=a.wrapperW,s++;for(a.maxScrollX%a.wrapperW&&(a.pagesX[a.pagesX.length]=a.maxScrollX-a.pagesX[a.pagesX.length-1]+a.pagesX[a.pagesX.length-1]),r=0,s=0,a.pagesY=[];r>=a.maxScrollY;)a.pagesY[s]=r,r-=a.wrapperH,s++;a.maxScrollY%a.wrapperH&&(a.pagesY[a.pagesY.length]=a.maxScrollY-a.pagesY[a.pagesY.length-1]+a.pagesY[a.pagesY.length-1])}a._scrollbar("h"),a._scrollbar("v"),a.zoomed||(a.scroller.style[c]="0",a._resetPos(400))},scrollTo:function(t,e,o,n){var i,a,r=this,s=t;for(r.stop(),s.length||(s=[{x:t,y:e,time:o,relative:n}]),i=0,a=s.length;a>i;i++)s[i].relative&&(s[i].x=r.x-s[i].x,s[i].y=r.y-s[i].y),r.steps.push({x:s[i].x,y:s[i].y,time:s[i].time||0});r._startAni()},scrollToElement:function(t,e){var o,i=this;t=t.nodeType?t:i.scroller.querySelector(t),t&&(o=i._offset(t),o.left+=i.wrapperOffsetLeft,o.top+=i.wrapperOffsetTop,o.left=o.left>0?0:o.left<i.maxScrollX?i.maxScrollX:o.left,o.top=o.top>i.minScrollY?i.minScrollY:o.top<i.maxScrollY?i.maxScrollY:o.top,e=void 0===e?n.max(2*n.abs(o.left),2*n.abs(o.top)):e,i.scrollTo(o.left,o.top,e))},scrollToPage:function(t,e,o){var n,i,a=this;o=void 0===o?400:o,a.options.onScrollStart&&a.options.onScrollStart.call(a),a.options.snap?(t="next"==t?a.currPageX+1:"prev"==t?a.currPageX-1:t,e="next"==e?a.currPageY+1:"prev"==e?a.currPageY-1:e,t=0>t?0:t>a.pagesX.length-1?a.pagesX.length-1:t,e=0>e?0:e>a.pagesY.length-1?a.pagesY.length-1:e,a.currPageX=t,a.currPageY=e,n=a.pagesX[t],i=a.pagesY[e]):(n=-a.wrapperW*t,i=-a.wrapperH*e,n<a.maxScrollX&&(n=a.maxScrollX),i<a.maxScrollY&&(i=a.maxScrollY)),a.scrollTo(n,i,o)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(x,t),this._unbind($,t),this._unbind(_,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(k):D(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,e,o,n){var i=this,a=o/i.scale;i.options.useTransform&&(i.zoomed=!0,n=void 0===n?200:n,t=t-i.wrapperOffsetLeft-i.x,e=e-i.wrapperOffsetTop-i.y,i.x=t-t*a+i.x,i.y=e-e*a+i.y,i.scale=o,i.refresh(),i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x,i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y,i.scroller.style[c]=n+"ms",i.scroller.style[s]="translate("+i.x+"px,"+i.y+"px) scale("+o+")"+S,i.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},i=null,"undefined"!=typeof exports?exports.iScroll=A:t.iScroll=A}(window,document);