!function(t,e,o){"use strict";function n(o){if(i=e.documentElement,a=e.body,j(),Y=this,o=o||{},K=o.constants||{},o.easing)for(var n in o.easing)M[n]=o.easing[n];if(V={beforerender:o.beforerender,render:o.render},X=o.forceHeight!==!1,J=o.smoothScrolling!==!1,Z={targetTop:Y.getScrollTop()},X&&(ue=o.scale||1),ie(i,[d],[h]),X){var s=e.getElementById("skrollr-body")||e.createElement("div"),l=s.style;l.minWidth="1px",l.position="absolute",l.top=l.zIndex="0",s.id||(l.width="1px",l.right="0",a.appendChild(s)),function(t){ee=function(){t.apply(this,arguments),l.height=ce+i.clientHeight+"px"}}(ee)}return Y.refresh(),r.addEvent(t,"resize",ee),function c(){x(c),N()}(),Y}var i,a,r=t.skrollr={get:function(){return Y},init:function(t){return Y||new n(t)},VERSION:"0.5.14"},s=Object.prototype.hasOwnProperty,l="rendered",c="un"+l,u="skrollable",d="skrollr",h="no-"+d,p="linear",f=1e3,m=200,g="start",v="end",b="center",y="bottom",F="___has_rendered_class",w="___skrollable_id",x=t.requestAnimationFrame;!function(){for(var e=["ms","moz","webkit","o"],o=0,n=e.length;n>o&&!x;o++)x=t[e[o]+"RequestAnimationFrame"];var i=0;x||(x=function(e){var o=se(),n=Math.max(0,30-(o-i));t.setTimeout(function(){e(o+n)},n),i=o+n})}();var $,_,k=/^\s+|\s+$/g,C=/^data(?:-(_\w+))?(?:-?(-?\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,D=/\s*([a-z\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,S=/^([a-z\-]+)\[(\w+)\]$/,T=/-([a-z])/g,A=function(t,e){return e.toUpperCase()},E=/[\-+]?[\d]*\.?[\d]+/g,I=/\{\?\}/g,P=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,L=/[a-z\-]+-gradient/g,j=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(t.getComputedStyle){var o=t.getComputedStyle(a,null);for(var n in o)if($=n.match(e)||+n==n&&o[n].match(e))break;$&&($=$[0],"-"===$.slice(0,1)?(_=$,$={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[$]):_="-"+$.toLowerCase()+"-")}},M={begin:function(){return 0},end:function(){return 1},linear:function(t){return t},quadratic:function(t){return t*t},cubic:function(t){return t*t*t},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},sqrt:function(t){return Math.sqrt(t)},bounce:function(t){var e;if(.5083>=t)e=3;else if(.8489>=t)e=9;else if(.96208>=t)e=27;else{if(!(.99981>=t))return 1;e=91}return 1-Math.abs(3*Math.cos(1.028*t*e)/e)}};n.prototype.refresh=function(t){var n,i,a=!1;for(t===o?(a=!0,G=[],fe=0,t=e.getElementsByTagName("*")):t=[].concat(t),n=0,i=t.length;i>n;n++){var r=t[n],s=r,d=[],h=J;if(r.attributes){for(var p=0,f=r.attributes.length;f>p;p++){var m=r.attributes[p];if("data-anchor-target"!==m.name)if("data-smooth-scrolling"!==m.name){var b=m.name.match(C);if(null!==b){var y=b[1];y=y&&K[y.substr(1)]||0;var x=(0|b[2])+y,$=b[3],_=b[4]||$,k={offset:x,props:m.value,element:r};d.push(k),$&&$!==g&&$!==v?(k.mode="relative",k.anchors=[$,_]):(k.mode="absolute",$===v?k.isEnd=!0:(k.frame=x*ue,delete k.offset))}}else h="off"!==m.value;else if(s=e.querySelector(m.value),null===s)throw'Unable to find anchor target "'+m.value+'"'}if(d.length){var D,S,T;!a&&w in r?(T=r[w],D=G[T].styleAttr,S=G[T].classAttr):(T=r[w]=fe++,D=r.style.cssText,S=ne(r));var A=G[T]={element:r,styleAttr:D,classAttr:S,anchorTarget:s,keyFrames:d,smoothScrolling:h};ie(r,[u,l],[c]),A[F]=!0}}}for(ee(),n=0,i=t.length;i>n;n++){var E=G[t[n][w]];E!==o&&(E.keyFrames.sort(le),R(E),H(E))}return Y},n.prototype.relativeToAbsolute=function(t,e,o){var n=i.clientHeight,a=t.getBoundingClientRect(),r=a.top,s=a.bottom-a.top;return e===y?r-=n:e===b&&(r-=n/2),o===y?r+=s:o===b&&(r+=s/2),r+=Y.getScrollTop(),0|r+.5},n.prototype.animateTo=function(t,e){e=e||{};var n=se(),i=Y.getScrollTop();return Q={startTop:i,topDiff:t-i,targetTop:t,duration:e.duration||f,startTime:n,endTime:n+(e.duration||f),easing:M[e.easing||p],done:e.done},Q.topDiff||(Q.done&&Q.done.call(Y,!1),Q=o),Y},n.prototype.stopAnimateTo=function(){Q&&Q.done&&Q.done.call(Y,!0),Q=o},n.prototype.isAnimatingTo=function(){return!!Q},n.prototype.setScrollTop=function(e,o){return o===!0&&(he=e,te=!0),r.iscroll?r.iscroll.scrollTo(0,-e):t.scrollTo(0,e),Y},n.prototype.getScrollTop=function(){return r.iscroll?-r.iscroll.y:t.pageYOffset||i.scrollTop||a.scrollTop||0},n.prototype.on=function(t,e){return V[t]=e,Y},n.prototype.off=function(t){return delete V[t],Y};var z=function(){var t,e,o,n,i,a,r,s,l,c,u;for(s=0,l=G.length;l>s;s++)for(t=G[s],e=t.element,o=t.anchorTarget,n=t.keyFrames,i=0,a=n.length;a>i;i++)r=n[i],"relative"===r.mode&&(c=e.style.cssText,u=ne(e),e.style.cssText=t.styleAttr,ie(e,t.classAttr),r.frame=Y.relativeToAbsolute(o,r.anchors[0],r.anchors[1])-r.offset,e.style.cssText=c,ie(e,u)),X&&!r.isEnd&&r.frame>ce&&(ce=r.frame);for(ce=Math.max(ce,oe()),s=0,l=G.length;l>s;s++)for(t=G[s],n=t.keyFrames,i=0,a=n.length;a>i;i++)r=n[i],r.isEnd&&(r.frame=ce-r.offset)},O=function(t,e){for(var o=0,n=G.length;n>o;o++){var i,a,u=G[o],d=u.smoothScrolling?t:e,h=u.keyFrames,p=h[0].frame,f=h[h.length-1].frame,m=p>=d,g=d>=f;if(m||g){var v=h[m?0:h.length-1].props;for(i in v)s.call(v,i)&&(a=B(v[i].value),r.setStyle(u.element,i,a));u[F]&&(p>d||d>f)&&(ie(u.element,[c],[l]),u[F]=!1)}else{u[F]||(ie(u.element,[l],[c]),u[F]=!0);for(var b=0,y=h.length-1;y>b;b++)if(d>=h[b].frame&&d<=h[b+1].frame){var w=h[b],x=h[b+1];for(i in w.props)if(s.call(w.props,i)){var $=(d-w.frame)/(x.frame-w.frame);$=w.props[i].easing($),a=W(w.props[i].value,x.props[i].value,$),a=B(a),r.setStyle(u.element,i,a)}break}}}},N=function(){var t,e,n=Y.getScrollTop(),i=se();if(Q)i>=Q.endTime?(n=Q.targetTop,t=Q.done,Q=o):(e=Q.easing((i-Q.startTime)/Q.duration),n=0|Q.startTop+e*Q.topDiff),Y.setScrollTop(n);else{var a=Z.targetTop-n;a&&(Z={startTop:he,topDiff:n-he,targetTop:n,startTime:pe,endTime:pe+m}),i<=Z.endTime&&(e=M.sqrt((i-Z.startTime)/m),n=0|Z.startTop+e*Z.topDiff)}if(0>n&&(n=0),te||he!==n){de=n>=he?"down":"up",te=!1;var r={curTop:n,lastTop:he,maxTop:ce,direction:de},s=V.beforerender&&V.beforerender.call(Y,r);s!==!1&&(O(n,Y.getScrollTop()),he=n,V.render&&V.render.call(Y,r)),t&&t.call(Y,!1)}pe=i},R=function(t){for(var e=0,o=t.keyFrames.length;o>e;e++){for(var n,i,a,r,s=t.keyFrames[e],l={};null!==(r=D.exec(s.props));)a=r[1],i=r[2],n=a.match(S),null!==n?(a=n[1],n=n[2]):n=p,i=i.indexOf("!")?q(i):[i.slice(1)],l[a]={value:i,easing:M[n]};s.props=l}},q=function(t){var e=[];return P.lastIndex=0,t=t.replace(P,function(t){return t.replace(E,function(t){return 100*(t/255)+"%"})}),_&&(L.lastIndex=0,t=t.replace(L,function(t){return _+t})),t=t.replace(E,function(t){return e.push(+t),"{?}"}),e.unshift(t),e},H=function(t){var e,o,n={};for(e=0,o=t.keyFrames.length;o>e;e++)U(t.keyFrames[e],n);for(n={},e=t.keyFrames.length-1;e>=0;e--)U(t.keyFrames[e],n)},U=function(t,e){var o;for(o in e)s.call(t.props,o)||(t.props[o]=e[o]);for(o in t.props)e[o]=t.props[o]},W=function(t,e,o){var n,i=t.length;if(i!==e.length)throw"Can't interpolate between \""+t[0]+'" and "'+e[0]+'"';var a=[t[0]];for(n=1;i>n;n++)a[n]=t[n]+(e[n]-t[n])*o;return a},B=function(t){var e=1;return I.lastIndex=0,t[0].replace(I,function(){return t[e++]})};r.setStyle=function(t,e,o){var n=t.style;if(e=e.replace(T,A).replace("-",""),"zIndex"===e)n[e]=""+(0|o);else if("float"===e)n.styleFloat=n.cssFloat=o;else try{$&&(n[$+e.slice(0,1).toUpperCase()+e.slice(1)]=o),n[e]=o}catch(i){}},r.addEvent=function(e,o,n){var i=function(e){return e=e||t.event,e.target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){e.returnValue=!1}),n.call(this,e)};t.addEventListener?e.addEventListener(o,i,!1):e.attachEvent("on"+o,i)};var Y,G,V,X,K,Q,J,Z,te,ee=function(){ce=0,z(),te=!0,r.iscroll&&t.setTimeout(function(){r.iscroll.refresh()},0)},oe=function(){var t=Math.max(a.scrollHeight,a.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return t-i.clientHeight},ne=function(e){var o="className";return t.SVGElement&&e instanceof t.SVGElement&&(e=e[o],o="baseVal"),e[o]},ie=function(e,n,i){var a="className";if(t.SVGElement&&e instanceof t.SVGElement&&(e=e[a],a="baseVal"),i===o)return e[a]=n,void 0;for(var r=e[a],s=0,l=n.length;l>s;s++)-1===re(r).indexOf(re(n[s]))&&(r+=" "+n[s]);for(var c=0,u=i.length;u>c;c++)r=re(r).replace(re(i[c])," ");e[a]=ae(r)},ae=function(t){return t.replace(k,"")},re=function(t){return" "+t+" "},se=Date.now||function(){return+new Date},le=function(t,e){return t.frame-e.frame},ce=0,ue=1,de="down",he=-1,pe=se(),fe=0}(window,document);